<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kevin Krupa">

<title>HW2 - Programming in Base R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">HW2 - Programming in Base R</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kevin Krupa </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="task-1-basic-vector-practice" class="level1">
<h1>Task 1: Basic Vector Practice</h1>
<p>We are told we have data from a medical experiment on blood pressure with 20 subjects. The following will be a vector of the 20 pre-treatment blood pressure values</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pre_trt <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">130</span>, <span class="dv">128</span>, <span class="dv">116</span>, <span class="dv">124</span>, <span class="dv">133</span>, <span class="dv">134</span>, <span class="dv">118</span>, <span class="dv">126</span>, <span class="dv">114</span>, <span class="dv">127</span>, <span class="dv">131</span>, <span class="dv">138</span>, <span class="dv">128</span>, <span class="dv">140</span>,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>            <span class="dv">137</span>, <span class="dv">131</span>, <span class="dv">120</span>, <span class="dv">128</span>, <span class="dv">129</span>, <span class="dv">135</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>pre_trt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 130 128 116 124 133 134 118 126 114 127 131 138 128 140 137 131 120 128 129
[20] 135</code></pre>
</div>
</div>
<p>Now that we have successfully create our pre-treatment vector, we will now create another vector that holds the post treatment blood pressure values of all 20 patients (note: subject <em>i</em> will be denoted by index <em>i</em>, i.e.&nbsp;subject 1 will be index 1 in both vectors)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>post_trt <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">114</span>, <span class="dv">98</span>, <span class="dv">113</span>, <span class="dv">99</span>, <span class="dv">107</span>, <span class="dv">116</span>, <span class="dv">113</span>, <span class="dv">111</span>, <span class="dv">119</span>, <span class="dv">117</span>, <span class="dv">101</span>, <span class="dv">119</span>, <span class="dv">130</span>, <span class="dv">122</span>,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>             <span class="dv">106</span>, <span class="dv">106</span>, <span class="dv">124</span>, <span class="dv">102</span>, <span class="dv">117</span>, <span class="dv">113</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>post_trt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 114  98 113  99 107 116 113 111 119 117 101 119 130 122 106 106 124 102 117
[20] 113</code></pre>
</div>
</div>
<p>We have successfully created both pre/post treatment vectors. Now we will assign the values in each vector to a specific subject. This will be done using the <code>names()</code> and <code>paste()</code> functions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>subject_names <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Subject"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(pre_trt) <span class="ot">&lt;-</span> subject_names</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>pre_trt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 
       130        128        116        124        133        134        118 
 Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 
       126        114        127        131        138        128        140 
Subject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 
       137        131        120        128        129        135 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(post_trt) <span class="ot">&lt;-</span> subject_names</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>post_trt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 
       114         98        113         99        107        116        113 
 Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 
       111        119        117        101        119        130        122 
Subject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 
       106        106        124        102        117        113 </code></pre>
</div>
</div>
<p>Next, we are going to calculate the change in blood pressure for each patient. This will be done by subtracting the pots-treatment values from the pre-treatment values. This will be saved in a new vector</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>bp_change <span class="ot">&lt;-</span> pre_trt <span class="sc">-</span> post_trt</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>bp_change</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 
        16         30          3         25         26         18          5 
 Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 
        15         -5         10         30         19         -2         18 
Subject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 
        31         25         -4         26         12         22 </code></pre>
</div>
</div>
<p>Since we now have the change in blood pressure for each subject, we now want to know that average change in blood pressure across all patients. This can be done using the <code>mean()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>avg_bp_change <span class="ot">&lt;-</span> <span class="fu">mean</span>(bp_change)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Average Change in Blood Pressure:"</span>, avg_bp_change)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Average Change in Blood Pressure: 16"</code></pre>
</div>
</div>
<p>Next, we want to know which subjects experienced a decrease in blood pressure after the treatment. We can use the <code>which()</code> function to return the indices (and names) to find such subjects</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>bp_decrease <span class="ot">&lt;-</span> <span class="fu">which</span>(bp_change <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Subjects that experienced a decrease in blood pressure: </span><span class="sc">\n</span><span class="st">"</span>, <span class="fu">names</span>(bp_decrease))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Subjects that experienced a decrease in blood pressure: 
 Subject_1 Subject_2 Subject_3 Subject_4 Subject_5 Subject_6 Subject_7 Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 Subject_18 Subject_19 Subject_20</code></pre>
</div>
</div>
<p>Now, we want to subset the <strong>bp_change</strong> vector (vector of differences) to only include those that have a positive change</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>pos_change <span class="ot">&lt;-</span> bp_change[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>, <span class="dv">10</span><span class="sc">:</span><span class="dv">12</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">16</span>, <span class="dv">18</span><span class="sc">:</span><span class="dv">20</span>)]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>pos_change</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 
        16         30          3         25         26         18          5 
 Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 
        15         10         30         19         18         31         25 
Subject_18 Subject_19 Subject_20 
        26         12         22 </code></pre>
</div>
</div>
<p>We now know which subjects experienced a positive change in blood pressure, and we want to know what the average of the positive changes are</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>avg_pos_change <span class="ot">&lt;-</span> <span class="fu">mean</span>(pos_change)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Average BP change for subjects who experienced decrease in blood pressure:"</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>      avg_pos_change)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Average BP change for subjects who experienced decrease in blood pressure: 19.4705882352941"</code></pre>
</div>
</div>
</section>
<section id="task-2-basic-data-frame-practice" class="level1">
<h1>Task 2: Basic Data Frame Practice</h1>
<p>Continuing on with the vectors we had created above, we want to make a data frame from them. The data frame will have four columns: patient, pre_bp, post_bp, and diff_bp.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>bp_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(subject_names, pre_trt, post_trt, bp_change, <span class="at">row.names =</span> <span class="cn">NULL</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(bp_df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"patient"</span>, <span class="st">"pre_bp"</span>, <span class="st">"post_bp"</span>, <span class="st">"diff_bp"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bp_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    patient pre_bp post_bp diff_bp
1 Subject_1    130     114      16
2 Subject_2    128      98      30
3 Subject_3    116     113       3
4 Subject_4    124      99      25
5 Subject_5    133     107      26
6 Subject_6    134     116      18</code></pre>
</div>
</div>
<p>Now, we only want to return rows where the <em>diff_bp</em> column is negative. We will accomplish this using the <code>subset()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>neg_diff_bp <span class="ot">&lt;-</span> <span class="fu">subset</span>(bp_df, diff_bp <span class="sc">&lt;</span> <span class="dv">0</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>neg_diff_bp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      patient pre_bp post_bp diff_bp
9   Subject_9    114     119      -5
13 Subject_13    128     130      -2
17 Subject_17    120     124      -4</code></pre>
</div>
</div>
<p>Taking this new data frame, we want to add a new column. This new column will take <code>TRUE</code>, if the post_bp value is less than 120, and <code>FALSE</code> otherwise.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>bp_df<span class="sc">$</span>bp_lt_120 <span class="ot">&lt;-</span> bp_df<span class="sc">$</span>post_bp <span class="sc">&lt;</span> <span class="dv">120</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we will print the data frame out nicely using <code>knitr::kable(bp_df)</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(bp_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">patient</th>
<th style="text-align: right;">pre_bp</th>
<th style="text-align: right;">post_bp</th>
<th style="text-align: right;">diff_bp</th>
<th style="text-align: left;">bp_lt_120</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Subject_1</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_2</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">98</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_3</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">113</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_4</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_5</td>
<td style="text-align: right;">133</td>
<td style="text-align: right;">107</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_6</td>
<td style="text-align: right;">134</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_7</td>
<td style="text-align: right;">118</td>
<td style="text-align: right;">113</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_8</td>
<td style="text-align: right;">126</td>
<td style="text-align: right;">111</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_9</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">119</td>
<td style="text-align: right;">-5</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_10</td>
<td style="text-align: right;">127</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_11</td>
<td style="text-align: right;">131</td>
<td style="text-align: right;">101</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_12</td>
<td style="text-align: right;">138</td>
<td style="text-align: right;">119</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_13</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">-2</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_14</td>
<td style="text-align: right;">140</td>
<td style="text-align: right;">122</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_15</td>
<td style="text-align: right;">137</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_16</td>
<td style="text-align: right;">131</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_17</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;">-4</td>
<td style="text-align: left;">FALSE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_18</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_19</td>
<td style="text-align: right;">129</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">TRUE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_20</td>
<td style="text-align: right;">135</td>
<td style="text-align: right;">113</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">TRUE</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="task-3-list-practice" class="level1">
<h1>Task 3: List Practice</h1>
<p>We are given new data from a different experiment where the ‘treatment’ is actually a placebo. We will create a new data frame of this data that looks similar to the one we created in Task 2.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>pre_trt_placebo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">138</span>, <span class="dv">135</span>, <span class="dv">147</span>, <span class="dv">117</span>, <span class="dv">152</span>, <span class="dv">134</span>, <span class="dv">114</span>, <span class="dv">121</span>, <span class="dv">131</span>, <span class="dv">130</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>post_trt_placebo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">105</span>, <span class="dv">136</span>, <span class="dv">123</span>, <span class="dv">130</span>, <span class="dv">134</span>, <span class="dv">143</span>, <span class="dv">135</span>, <span class="dv">139</span>, <span class="dv">120</span>, <span class="dv">124</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>bp_diff_placebo <span class="ot">&lt;-</span> pre_trt_placebo <span class="sc">-</span> post_trt_placebo</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>subject_names_placebo <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Subject"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>placebo_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(subject_names_placebo, pre_trt_placebo, post_trt_placebo, bp_diff_placebo)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(placebo_df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"patient"</span>, <span class="st">"pre_bp"</span>, <span class="st">"post_bp"</span>, <span class="st">"diff_bp"</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>placebo_df<span class="sc">$</span>post_bp_lt_120 <span class="ot">&lt;-</span> placebo_df<span class="sc">$</span>post_bp <span class="sc">&lt;</span> <span class="dv">120</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that we have successfully created a new data frame like the one created in Task 2, we will create a list that stores both of the data frames.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">treatment =</span> bp_df, <span class="at">placebo =</span> placebo_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next, we are going to access the first list element using three different types of syntax.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>my_list[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$treatment
      patient pre_bp post_bp diff_bp bp_lt_120
1   Subject_1    130     114      16      TRUE
2   Subject_2    128      98      30      TRUE
3   Subject_3    116     113       3      TRUE
4   Subject_4    124      99      25      TRUE
5   Subject_5    133     107      26      TRUE
6   Subject_6    134     116      18      TRUE
7   Subject_7    118     113       5      TRUE
8   Subject_8    126     111      15      TRUE
9   Subject_9    114     119      -5      TRUE
10 Subject_10    127     117      10      TRUE
11 Subject_11    131     101      30      TRUE
12 Subject_12    138     119      19      TRUE
13 Subject_13    128     130      -2     FALSE
14 Subject_14    140     122      18     FALSE
15 Subject_15    137     106      31      TRUE
16 Subject_16    131     106      25      TRUE
17 Subject_17    120     124      -4     FALSE
18 Subject_18    128     102      26      TRUE
19 Subject_19    129     117      12      TRUE
20 Subject_20    135     113      22      TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      patient pre_bp post_bp diff_bp bp_lt_120
1   Subject_1    130     114      16      TRUE
2   Subject_2    128      98      30      TRUE
3   Subject_3    116     113       3      TRUE
4   Subject_4    124      99      25      TRUE
5   Subject_5    133     107      26      TRUE
6   Subject_6    134     116      18      TRUE
7   Subject_7    118     113       5      TRUE
8   Subject_8    126     111      15      TRUE
9   Subject_9    114     119      -5      TRUE
10 Subject_10    127     117      10      TRUE
11 Subject_11    131     101      30      TRUE
12 Subject_12    138     119      19      TRUE
13 Subject_13    128     130      -2     FALSE
14 Subject_14    140     122      18     FALSE
15 Subject_15    137     106      31      TRUE
16 Subject_16    131     106      25      TRUE
17 Subject_17    120     124      -4     FALSE
18 Subject_18    128     102      26      TRUE
19 Subject_19    129     117      12      TRUE
20 Subject_20    135     113      22      TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(my_list[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 1
 $ treatment:'data.frame':  20 obs. of  5 variables:
  ..$ patient  : chr [1:20] "Subject_1" "Subject_2" "Subject_3" "Subject_4" ...
  ..$ pre_bp   : num [1:20] 130 128 116 124 133 134 118 126 114 127 ...
  ..$ post_bp  : num [1:20] 114 98 113 99 107 116 113 111 119 117 ...
  ..$ diff_bp  : num [1:20] 16 30 3 25 26 18 5 15 -5 10 ...
  ..$ bp_lt_120: logi [1:20] TRUE TRUE TRUE TRUE TRUE TRUE ...</code></pre>
</div>
</div>
<p>Now, I want to access the placebo data frame from that list, and only look at the pre_bp column from that data frame. We will do this in one line</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">2</span>]][<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   pre_bp
1     138
2     135
3     147
4     117
5     152
6     134
7     114
8     121
9     131
10    130</code></pre>
</div>
</div>
</section>
<section id="task-4-control-flow-practice" class="level1">
<h1>Task 4: Control Flow Practice</h1>
<p>We want to characterize the post-treatment (or placebo) blood pressure measurements as optimal (<span class="math inline">\(\leq\)</span> 120), borderline (120 <span class="math inline">\(\lt\)</span> <em>bp</em> <span class="math inline">\(\leq\)</span> 130), and high (<span class="math inline">\(\gt\)</span> 130). We will do this by first creating a new column in each data frame above called status.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">1</span>]]<span class="sc">$</span>status <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">20</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">2</span>]]<span class="sc">$</span>status <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For the non-placebo data set (i.e, the first element of our list), we want to run a for loop that assigns the values of the status column using if/then/else logic</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) {</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (my_list[[<span class="dv">1</span>]][[<span class="dv">3</span>]][index] <span class="sc">&lt;=</span> <span class="dv">120</span>) {</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    my_list[[<span class="dv">1</span>]][[<span class="dv">6</span>]][index] <span class="ot">=</span> <span class="st">"optimal"</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (my_list[[<span class="dv">1</span>]][[<span class="dv">3</span>]][index] <span class="sc">&gt;</span> <span class="dv">120</span> <span class="sc">&amp;</span> my_list[[<span class="dv">1</span>]][[<span class="dv">3</span>]][index] <span class="sc">&lt;=</span> <span class="dv">130</span>) {</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    my_list[[<span class="dv">1</span>]][[<span class="dv">6</span>]][index] <span class="ot">=</span> <span class="st">"borderline"</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    my_list[[<span class="dv">1</span>]][[<span class="dv">6</span>]][index] <span class="ot">=</span> <span class="st">"high"</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we are going to repeat the same, but for the placebo dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (index <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (my_list[[<span class="dv">2</span>]][[<span class="dv">3</span>]][index] <span class="sc">&lt;=</span> <span class="dv">120</span>) {</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    my_list[[<span class="dv">2</span>]][[<span class="dv">6</span>]][index] <span class="ot">=</span> <span class="st">"optimal"</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (my_list[[<span class="dv">2</span>]][[<span class="dv">3</span>]][index] <span class="sc">&gt;</span> <span class="dv">120</span> <span class="sc">&amp;</span> my_list[[<span class="dv">2</span>]][[<span class="dv">3</span>]][index] <span class="sc">&lt;=</span> <span class="dv">130</span>) {</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    my_list[[<span class="dv">2</span>]][[<span class="dv">6</span>]][index] <span class="ot">=</span> <span class="st">"borderline"</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    my_list[[<span class="dv">2</span>]][[<span class="dv">6</span>]][index] <span class="ot">=</span> <span class="st">"high"</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will look at the data frames to make sure our loops worked.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(my_list[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">patient</th>
<th style="text-align: right;">pre_bp</th>
<th style="text-align: right;">post_bp</th>
<th style="text-align: right;">diff_bp</th>
<th style="text-align: left;">bp_lt_120</th>
<th style="text-align: left;">status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Subject_1</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_2</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">98</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_3</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">113</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_4</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_5</td>
<td style="text-align: right;">133</td>
<td style="text-align: right;">107</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_6</td>
<td style="text-align: right;">134</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_7</td>
<td style="text-align: right;">118</td>
<td style="text-align: right;">113</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_8</td>
<td style="text-align: right;">126</td>
<td style="text-align: right;">111</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_9</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">119</td>
<td style="text-align: right;">-5</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_10</td>
<td style="text-align: right;">127</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_11</td>
<td style="text-align: right;">131</td>
<td style="text-align: right;">101</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_12</td>
<td style="text-align: right;">138</td>
<td style="text-align: right;">119</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_13</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">-2</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">borderline</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_14</td>
<td style="text-align: right;">140</td>
<td style="text-align: right;">122</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">borderline</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_15</td>
<td style="text-align: right;">137</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_16</td>
<td style="text-align: right;">131</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_17</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;">-4</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">borderline</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_18</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">26</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_19</td>
<td style="text-align: right;">129</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_20</td>
<td style="text-align: right;">135</td>
<td style="text-align: right;">113</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(my_list[[<span class="dv">2</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">patient</th>
<th style="text-align: right;">pre_bp</th>
<th style="text-align: right;">post_bp</th>
<th style="text-align: right;">diff_bp</th>
<th style="text-align: left;">post_bp_lt_120</th>
<th style="text-align: left;">status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Subject_1</td>
<td style="text-align: right;">138</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">33</td>
<td style="text-align: left;">TRUE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_2</td>
<td style="text-align: right;">135</td>
<td style="text-align: right;">136</td>
<td style="text-align: right;">-1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">high</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_3</td>
<td style="text-align: right;">147</td>
<td style="text-align: right;">123</td>
<td style="text-align: right;">24</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">borderline</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_4</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">-13</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">borderline</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_5</td>
<td style="text-align: right;">152</td>
<td style="text-align: right;">134</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">high</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_6</td>
<td style="text-align: right;">134</td>
<td style="text-align: right;">143</td>
<td style="text-align: right;">-9</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">high</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_7</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">135</td>
<td style="text-align: right;">-21</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">high</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_8</td>
<td style="text-align: right;">121</td>
<td style="text-align: right;">139</td>
<td style="text-align: right;">-18</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">high</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Subject_9</td>
<td style="text-align: right;">131</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">optimal</td>
</tr>
<tr class="even">
<td style="text-align: left;">Subject_10</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: left;">borderline</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="task-5-function-writing" class="level1">
<h1>Task 5: Function Writing</h1>
<p>In this section, we are going to write our own function. This function will take in a list with two data frames (trt and placebo data frame) as an argument, with no default values. The next argument will be a R function that find a summary of a numeric column, and will have a default value of “mean”. The function will find the statistic of interest (defined by the R function argument) for the pre, post, and diff columns of both data frames. These values will be returned as a named list with meaningful names.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>Stat_Function <span class="ot">=</span> <span class="cf">function</span>(list, <span class="at">stat =</span> <span class="st">"mean"</span>) {</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Make sure the user inputs a list of length 2</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.list</span>(list) <span class="sc">||</span> <span class="fu">length</span>(list) <span class="sc">!=</span> <span class="dv">2</span>) {</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"First argument must be a list of length two"</span>)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Make sure the user inputs a list containing two data frames</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.data.frame</span>(list[[<span class="dv">1</span>]]) <span class="sc">||</span> <span class="sc">!</span><span class="fu">is.data.frame</span>(list[[<span class="dv">2</span>]])) {</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Both elements of the list need to be a data frame"</span>)</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>  treatment   <span class="ot">&lt;-</span> list[[<span class="dv">1</span>]] <span class="co">#Obtain the first data frame </span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>  placebo     <span class="ot">&lt;-</span> list[[<span class="dv">2</span>]] <span class="co">#Obtain the second data frame</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  my_fun      <span class="ot">&lt;-</span> <span class="fu">get</span>(stat) <span class="co">#Obtain the statistic function we want</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Store the statistic generated on the numeric columns from each data frame</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>  trt_pre_bp  <span class="ot">&lt;-</span> <span class="fu">my_fun</span>(treatment<span class="sc">$</span>pre_bp)</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>  trt_post_bp <span class="ot">&lt;-</span> <span class="fu">my_fun</span>(treatment<span class="sc">$</span>post_bp)</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>  trt_diff_bp <span class="ot">&lt;-</span> <span class="fu">my_fun</span>(treatment<span class="sc">$</span>diff_bp)</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>  pla_pre_bp  <span class="ot">&lt;-</span> <span class="fu">my_fun</span>(placebo<span class="sc">$</span>pre_bp)</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>  pla_post_bp <span class="ot">&lt;-</span> <span class="fu">my_fun</span>(placebo<span class="sc">$</span>post_bp)</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>  pla_diff_bp <span class="ot">&lt;-</span> <span class="fu">my_fun</span>(placebo<span class="sc">$</span>diff_bp)</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create a vector that contains the six values</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>  stat_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(trt_pre_bp, trt_post_bp, trt_diff_bp, pla_pre_bp, pla_post_bp, pla_diff_bp)</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create names for the vector, based on the statistic passed</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(stat_vector) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste</span>(<span class="st">"Pre Trt BP"</span>, stat),</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">paste</span>(<span class="st">"Post Trt BP"</span>, stat),</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">paste</span>(<span class="st">"Trt Diff in BP"</span>, stat),</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">paste</span>(<span class="st">"Pre Placebo BP"</span>, stat),</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">paste</span>(<span class="st">"Post Placebo BP"</span>, stat),</span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">paste</span>(<span class="st">"Placebo Diff in BP"</span>, stat))</span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(stat_vector)</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we are going to test to see if our function works for different statistics. The statistics we will try to find are the variance, standard deviation, minimum, and maximum.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Stat_Function</span>(my_list, <span class="st">"var"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Pre Trt BP var        Post Trt BP var     Trt Diff in BP var 
              51.60789               74.76579              133.68421 
    Pre Placebo BP var    Post Placebo BP var Placebo Diff in BP var 
             149.87778              124.98889              341.33333 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Stat_Function</span>(my_list, <span class="st">"sd"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Pre Trt BP sd        Post Trt BP sd     Trt Diff in BP sd 
             7.183863              8.646721             11.562189 
    Pre Placebo BP sd    Post Placebo BP sd Placebo Diff in BP sd 
            12.242458             11.179843             18.475209 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Stat_Function</span>(my_list, <span class="st">"min"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Pre Trt BP min        Post Trt BP min     Trt Diff in BP min 
                   114                     98                     -5 
    Pre Placebo BP min    Post Placebo BP min Placebo Diff in BP min 
                   114                    105                    -21 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Stat_Function</span>(my_list, <span class="st">"max"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Pre Trt BP max        Post Trt BP max     Trt Diff in BP max 
                   140                    130                     31 
    Pre Placebo BP max    Post Placebo BP max Placebo Diff in BP max 
                   152                    143                     33 </code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>